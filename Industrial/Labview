//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Labview
http://www.halvorsen.blog/documents/programming/labview/labview.php
https://www.usn.no/english/about/contact-us/employees/hans-petter-halvorsen
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CONTENTS
01. Introduction
02. While Loops
03. Plotting
04. SubVIs
05. Case Structures
06. Formula Node
07. Arrays
08. Clusters
09. Property Nodes
10. Project Explorer
11. Debugging
12. DAQ
13. Labview and USB6008



//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
01. Introduction

    Starting
        Splash screen > File > New VI
        2 split screen Windows will open (Front panel + Block Diagram)

    Right Click on Front Panel
        Controls Selection Panel:
            Silver > Numeric, Boolean, String&Path, Arrays/Matrix, List/Tables, Graph, Ring&Enum, Decor, IO
            Modern, System, Classic, Express, Control/Simulation, .NET/ActiveX,
            SignalProcessing, Addons, UserControls,
            DSCModule, Vision

    Select Numeric Control and Paste in Front Panel
        Right Click > Numeric > Numeric
        A diagram will appear in Bloack Diagram Panel

    Right Click on Block Diagram    
        Functions Selection Panel:
            Programming > Structures, Array, Cluster, Numeric, Boolean, String, Comparison, Timing, Dialog, FileIO, Waveform, Apps, Sync, Graphics, Report
            Control/Sim, MeasurementIO, DataComms, Maths, Instruments, Vision/Motion, 
            SignalProcessing, Connectivity, Express, Addons, Favorites, UserLibs,
            DESCModules, FPGAInterface, RealTime, SQL
    
    Run the program
        Front Panel > Main Toolbar > Click on 'Run' (Arrow Icon)

    Program (without loops):
        Add in 2 Numerical Control display in Front Panel
        Add in 'Addition Operator' in Blcok Diagram Panel
            Reight Click in Block Diagram > Mathematics > Numeric > Add
        Add in Numeric Indicator in Block Front Panel
        Link everything up in BD Panel
        Click on Run in Front Panel
        Input numbers in Front Panel
        Click on Run in Block Diagram
        Calculated value will appear in Indicator
        NOTE: 
            Whenever the input changes, clicking on the Run button again is required
            Therefore, While loop needed to solve the problem
        
    Toggling between Panels
        CTRL+E

    Program (with loops):
        Cont'd
        Add while Loop
            In BD panel > Right Click > Programming > Structures > While Loop
            Draw 'While Loop' around the diagram
        Add Button to stop the program
            In Front Panel > Right Click > Silver > Boolean > Stop Button
        In Block Diagram, link Stop Button Block to the While Loop condition
        In Front Panel, Click on Run button
            Change the input parameter and the calculated value will appear in the indicator automatically
        NOTE:
            While loops are computer processing intensive since it's updating continuously
            To solve, add Timer function into the While Loop box in BD Panel
        Add Timer    
            In BD panel > Right Click > Programming > Timing > Wait(ms)
            Right Click on Input > Create > Constant
            Add "100" ms to the timer (This will update the while loop every 100 ms)

    Plotting Graph:
        Cont'd
        Add Waveform Chart
            Front Panel > Silver > Graph > Waveform Chart
            Block Diagram:
                Move Waveform Chart block into the while loop box
                Link Waveform Chart with the Add function's output
        Run and change the input parameters in Front Panel
        Notice that the Chart will plot continuously plotting the answers as the imput parameters changes


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
02. While Loops

    Types of Loops and Structures
        While Loops (Solid line border)
        For Loops (Pages border)
        If-Else (Case Structure) - (Border with pattern)
            Nodes can be linked to the border 
            The border nodes can be connected to another area
        Sequence Structure (Film border)

    While Loop Example
        Voltage input (0-5V) from DAQ
        Converts voltage signal (Multiply by 4) to output water level height in tank
        Therefore, 25V = 100cm
        Front Panel
            Voltage
            Tank Level
            Stop while loop button
        Block Diagram   
            Voltage nodes
            multiplication node
            Tank level in cm node
            Timer node (ms)
            Stopbutton
            
        **Similar to Topic 1**
        NOTE: Just change the max Voltage input property to 25 and max output water level to 100

        Adding Numeric indicator to While Loop's Loop Iteration
            In front panel, 
                Right click > Silver > Numeric > Numeric Indicator
            In Block Diagram
                Link Numeric Indicator node to the While Loop's "i" box 
            This will show how many iterations the While Loop ran
            The Numeric indicator node can also be linked to a mathematics operator node for calculation

        While Loop border
            Connections inside the while loop can also be extended outside the while loop border
            Extend the output of the mathematics operator to the border
            A square connection node will appear (Loop Tunnel)
            An external node can be connected to the border node (Loop Tunnel)
            Add in Numeric Control block (This wont show any value when the loop is running, will show the value when the loop is stopped)
            
        Loop Tunnel
            Types of Tunnel Mode
                Last value
                Indexing
                Concatenate
            2 Ways to add external nodes
                - Normal Right click on panel and add
                - Select the Loop Tunnel > Right Click > Create >
                    Constant
                    Control
                    Indicator
            Indexing + Indicator = Array Indicator
            Array indicator
                In Front Panel, the indicator can be extended when dragged down to open up more arrays of indicators
            
        Shift Register
            Click on the While loop border and click on "Add shift register"
            Two arrow icons will appear on both sides of the border
            Arrow up icon - Output value
            Arrow down icon - Previous value
            Example
                Add in "Add Operator node" in between the the tank and multiplication node
                Link Arrow down shift reg to Add operator node
                Link Multiplication node output to Add operator node
                Extend Multiplication node output to Arrow up shift register
                Link Add operator node output to tank level indicator


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
03. Plotting
    
    Example
        Simulate the temperature in Air Heater system. 
        The temperature in the air heater should be between 20 and 50 degree Celsius
        Use Random Generator for this Example
    Front Panel
        Waveform chart
        Low temp limit
        Upper temp limit
        Thermometer
        Stop
    Block Diagram Panel (While loop)
        Random number (0-1)
        Upper Temp Limit (UTL)
        Lower Temp Limit (LTL)
        Subtract Node (UTL - LTL)
        Multiply Node (Rand * Substract)
        Addition Node(Multiply + LTL)
        Waveform Chart (Add)
        Thermometer (Add)
        Timer (Wait - ms) - 1000ms
        Stop Button

    Features of Waveform Chart
        Renaming
            Double Click on Vertical/Horizontal axis title
            Title "Plot 0" can be changed by double clicking
        Plotting timing syncing
            The plotting of graph is totally different from the while loop timing
            To readjust plot sampling time to sync with the block diagram time, readjust the multiplier
            Right click > Scales Tab > Scaling factors > Multiplier       
            Example: 
                While loop wait time (ms): 2000ms
                Therefore, Plot multiplier: 2
        Right Click on title bar' title
            Visible Items
                Index Display
                Vertical Scrollbar
                Plot visibility checkbox
            Properties
        Right Click on title bar's icon
            Plot Visible
            Common Plots (Commonly used types of graph)
            Graph's line styling
                Color (Color of graph), Line Style (Style of graph), Line Width (Line thickness), Anti Aliased
            Graph Type Selection
                Bar Plots, Fill Base Line, Point Style, X/Y Scale
        NOTE: X=Horizontal, Y=Vertical
        Clear Chart
            Right Click > Data operation > Clear chart
        Historical Logs
            Block Diagram Panel > Right Click on Waveform Chart Node > Create > Property Node > History Data
                Place the node outside while loop border
                Right Click on History Node and select "Change All to write"
                Right Click on Input > Create > Constant = 0
                Link the History Data Node output to the While Loop border
            This will enables you to store data

    Sampling rate Timer
        Front Panel
            Numeric Control
        Block Diagram
            Numeric Control Node (Placed outside while loop) - Linked to while loop border
            Multiplier (While loop border, Constant), where the constant is 1000 since Timer is in ms and Numeric Control is in sec
            Timer - Wait (ms)
        Note: 
            Remember to change the waveform chart's multiplier for every changes made
            In order to automate the process, use the Historical Log Node
        Block Diagram
            Right Click on Waveform Chart Node > Create > Property Node > History Data
            Place the node outside while loop border
            Right Click on History Node and select "Change All to write"
            Right Click on Input > Create > Constant = 0
            Link the History Data Node output to the While Loop border
            Drag down the box to extend the array ("History")
            Right Click > Select Property > X Scale > Offset and Multiplier > Multiplier
            Link the multiplier's input to the Sampling rate timer node's  output

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
04. SubVIs















